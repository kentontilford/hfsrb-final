:root { --bg:#fff; --fg:#111; --muted:#666; --card:#fff; --border:#e5e5e5; --accent:#0a58ca; }
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--fg); background: var(--bg); }
header { padding: 14px 16px; border-bottom: 1px solid var(--border); }
h1 { margin: 0 0 4px; font-size: 20px; }
.sub { color: var(--muted); font-size: 13px; }
main { display: grid; grid-template-columns: 280px 1fr 420px; gap: 16px; padding: 14px 16px; }
@media (max-width: 1200px) { main { grid-template-columns: 280px 1fr; } .detail { grid-column: 1 / -1; }}
.controls label { display: block; font-size: 12px; color: #333; margin: 8px 0; }
.controls select, .controls input { width: 100%; padding: 6px 8px; border: 1px solid var(--border); border-radius: 6px; font-size: 13px; }
.list { list-style: none; margin: 0; padding: 0; }
.list li { padding: 10px 12px; border: 1px solid var(--border); border-radius: 8px; margin: 8px 0; cursor: pointer; background: var(--card); }
.list .name { font-weight: 600; }
.list .meta { color: var(--muted); font-size: 12px; }
.detail { position: relative; border: 1px solid var(--border); border-radius: 8px; padding: 12px; background: var(--card); }
.detail .close { position: absolute; right: 8px; top: 8px; border: none; background: transparent; font-size: 20px; cursor: pointer; }
.detail.fullscreen { position: fixed !important; left: 0 !important; top: 0 !important; right: 0 !important; bottom: 0 !important; width: 100vw !important; height: 100vh !important; z-index: 9999; border-radius: 0; margin: 0 !important; padding: 16px; overflow: auto; background: var(--bg); grid-column: 1 / -1 !important; }
.detail-overlay { position: fixed; left: 0; top: 0; right: 0; bottom: 0; width: 100vw; height: 100vh; z-index: 9999; background: var(--bg); overflow: auto; padding: 16px; }
.detail-overlay .detail { position: static !important; width: 100% !important; max-width: 1280px; height: auto !important; margin: 0 auto; border-radius: 8px; }
body.no-scroll { overflow: hidden; }
.card { border: 1px solid var(--border); border-radius: 8px; padding: 10px 12px; margin: 10px 0; background: var(--card); }
.card h3 { margin: 0 0 6px; font-size: 15px; font-weight: 600; }
th { font-weight: 600; color: #222; }
table { margin-bottom: 8px; }
.links a, .links button { padding: 6px 10px; border: 1px solid var(--border); border-radius: 6px; background: #f8f9fb; color: #222; text-decoration: none; }
.links button { cursor: pointer; }
.card h3 button.tiny { margin-left: 8px; font-size: 11px; padding: 3px 8px; border: 1px solid var(--border); border-radius: 6px; background: #f1f2f5; cursor: pointer; }
.export-all { display:flex; justify-content:flex-end; margin: 6px 0; }
.export-all button { font-size: 12px; padding: 6px 10px; border: 1px solid var(--border); border-radius: 6px; background: #f8f9fb; cursor: pointer; }

/* Full-screen toolbar */
.fsbar { display: none; position: sticky; top: 0; z-index: 1001; background: rgba(255,255,255,0.96); backdrop-filter: blur(2px); border-bottom: 1px solid var(--border); padding: 8px 12px; margin: -8px -8px 8px -8px; display: flex; gap: 8px; align-items: center; }
.detail.fullscreen .fsbar { display: flex; }
.fsbar button, .fsbar a { padding: 6px 10px; border: 1px solid var(--border); border-radius: 6px; background: #f8f9fb; color: #222; text-decoration: none; font-size: 12px; }
.fsbar .spacer { flex: 1; }
.fshead { display: flex; flex-direction: column; gap: 2px; margin: 0 8px; min-width: 0; }
.fshead .fs-title { font-weight: 600; font-size: 14px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.fshead .fs-sub { font-size: 12px; color: var(--muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
/* Fullscreen picker */
.fsbar select { font-size: 12px; padding: 5px 8px; border: 1px solid var(--border); border-radius: 6px; background: #fff; }

/* Print styles: print only the detail pane, clean look */
@media print {
  header, .controls, .results, .links, .fsbar button#fs-exit, .fsbar button#fs-back { display: none !important; }
  .detail { position: static !important; inset: auto !important; padding: 0 !important; border: none !important; box-shadow: none !important; }
  body { background: #fff !important; }
  .card { break-inside: avoid; page-break-inside: avoid; }
  #demo-tables { break-before: page; page-break-before: always; }
  .charts { break-inside: avoid; page-break-inside: avoid; }
  .detail.fullscreen .fsbar { display: none !important; }
}
.charts { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0; }
/* Tame charts in full-screen so they don't explode in size */
.detail.fullscreen .charts { grid-template-columns: repeat(3, minmax(240px, 1fr)); }
.detail.fullscreen canvas { max-height: 220px; width: 100% !important; height: auto !important; }
.links a, .links button { display: inline-block; margin-right: 8px; margin-bottom: 4px; font-size: 12px; }
table { border-collapse: collapse; width: 100%; }
th, td { padding: 6px 8px; border-bottom: 1px solid var(--border); font-size: 12px; }
th { text-align: left; }
td.right, th.right { text-align: right; }
